var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");var submitted=!1;$("#input-shipping-mode").change(function(){$(".shipping-mode").hide();$(".shipping-mode#"+this.value).show()});$("#deposit-slip-btn").click(function(){$("#deposit-slip-file").click()});$("#deposit-slip-file").change(function(a){fileToTxt(this.files[0])});$(".close-preview").click(function(a){a.preventDefault();closePreview()});
$(".submit-btn").click(function(){disableInput(!0);validateInput()});
var iframeReady=function(){disableInput(!1);submitted&&window.location.reload()},showPopup=function(){var a=getCookie("reference"),b=getCookie("total");a&&b&&$.confirm({title:"Donation Summary",columnClass:"xlarge",type:"green",content:'<div>Your donation reference is:</div><h3 class="text-primary">'+a+'</h3><div>Donation Total:</div><h3 class="text-success">PHP '+b+"</h3><hr /><p>Your donation is now PENDING CONFIRMATION! Thank you so much for your help. This will go a long way in helping our frontliners and countrymen in the fight against COVID-19.</p><p>Please wait for confirmation on our end once we are ready to proceed with your donation. We will contact you shortly regarding your donation.</p>",buttons:{"Upload Proof of Payment":function(){window.location.href=
"/deposit-slip.html"},Close:function(){}}})},closePreview=function(){$(".display-upload").hide();$(".upload-btn").show();$(".upload-preview img").attr("src","");$('.upload-preview input[type="hidden"].deposit-slip').val("")},saveToCloud=function(a){$.post("https://files.sterlingcares.ph/upload.php",{file:a},function(a){a=eval("("+a+")");disableInput(!1);"error"==a.type?$.alert({title:"Error",type:"red",content:a.message}):($(".upload-preview img").attr("src",a.data),$('.upload-preview input[type="hidden"].deposit-slip').val(a.data),
$(".upload-btn").hide(),$(".display-upload").show())}).fail(function(a){$.alert({title:"Error",type:"red",content:"Something went wrong with your request. Please try again later"});disableInput(!1)})},fileToTxt=function(a){var b=new FileReader;b.readAsDataURL(a);b.onload=function(){disableInput(!0);saveToCloud(b.result)};b.onerror=function(a){disableInput(!1);$.alert({title:"Error",type:"red",content:"Something went wrong. Please try again."})}},disableInput=function(a){a=a||!1;$(".form-control").prop("disabled",
a);$(".submit-btn, .deposit-btn").prop("disabled",a);var b="Submit Donation",c="Submit Deposit Slip";a&&(c=b="Please wait...");$(".submit-btn").html(b);$(".deposit-btn").html(c)},validateInput=function(){var a=!1;disableInput(!0);$(".error-msg").remove();$(".input-form").removeClass("err");$(".input-form").each(function(){$(this).hasClass("required-input")&&!$(this).val()&&(addErrorMsgToElementGroup(this,"This field is required"),$(this).addClass("err"),a=!0)});a||$("#input-contact").val().match(/^\d+$/)||
(addErrorMsgToElementGroup($("#input-contact").parent(),"#input-contact","Must be a number"),a=!0);$(".input-qty").each(function(){a||$(this).val().match(/^\d+$/)||(addErrorMsgToElementGroup($(this).parent(),".input-qty","Must be a number"),a=!0)});a||$(".beneficiaries .beneficiary").each(function(){a="pickup"==$(this).find(".input-shipping-mode").val()?validatePickup(this):validateDelivery(this);$(this).find(".input-point-contact").val().match(/^\d+$/)||(addErrorMsgToElementGroup(this,".input-point-contact",
"Must be a number"),a=!0)});checkTerms()||(a=!0);a?($.alert({title:"Error",type:"red",content:"Please correct the error(s) in the form to continue placing a donation"}),disableInput(!1)):(submitted=!0,prepareForm(),$(".real-form").submit())},checkTerms=function(){return $("#terms").is(":checked")?!0:($("#terms").parent().append('<div class="error-msg"><small class="text-danger">You need to agree with the terms below to proceed and make a Donation.</small></div>'),!1)},uuid=function(){return Math.floor(Math.random()*
Date.now())},prepareForm=function(){$(".input-form").each(function(){$(".real-form").find("#"+$(this).attr("id").replace("input-","")).hasClass("populatable")&&$(".real-form").find("#"+$(this).attr("id").replace("input-","")).val($(this).val())});prepareBeneficiaries();var a=uuid(),b=0,c=0;$(".beneficiaries .beneficiary").each(function(){b+=parseInt($(this).find(".input-qty").val());c+=4200*parseInt($(this).find(".input-qty").val())});$("#amount").val(c);$(".real-form #total-box").val(b);setCookie("reference",
a,30);setCookie("total",getOrderTotal(),30);$(".real-form #reference").val(a)},prepareBeneficiaries=function(){var a=[],b=[],c=[],d=[],e=[],f=[],g=[];$(".beneficiaries .beneficiary").each(function(){a.push($(this).find(".input-beneficiary").val());b.push($(this).find(".input-qty").val());c.push($(this).find(".input-point-person").val());d.push($(this).find(".input-point-contact").val());e.push($(this).find(".input-shipping-mode").val());"pickup"==$(this).find(".input-shipping-mode").val()?(g.push($(this).find(".input-pickup:checked").val()),
f.push("-NONE-")):"delivery"==$(this).find(".input-shipping-mode").val()&&(f.push($(this).find(".input-address").val()),g.push("-NONE-"))});$(".real-form #beneficiary").val(a.join(" / "));$(".real-form #qty").val(b.join(" / "));$(".real-form #point-person").val(c.join(" / "));$(".real-form #point-contact").val(d.join(" / "));$(".real-form #shipping-mode").val(e.join(" / "));$(".real-form #address").val(f.join(" / "));$(".real-form #pickup-point").val(g.join(" / "))},validatePickup=function(a){return"undefined"==
typeof $(a).find(".input-pickup:checked").val()?(addErrorMsgToElementGroup(a,".input-shipping-mode","Please select a branch where you want to pickup your donation"),!0):!1},validateDelivery=function(a){return $(a).find(".input-address").val()?!1:(addErrorMsgToElementGroup(a,".input-shipping-mode","Please enter your delivery address"),!0)},addErrorMsgToElementGroup=function(a,b,c){$(a).find(b).parents().each(function(){$(this).hasClass("form-group")&&($(this).append('<div class="error-msg"><small class="text-danger">'+
c+"</small></div>"),$(this).find(".input-form").addClass("err"))})},setCookie=function(a,b,c){var d="";c&&(d=new Date,d.setTime(d.getTime()+864E5*c),d="; expires="+d.toUTCString());document.cookie=a+"="+(b||"")+d+"; path=/"},getCookie=function(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null},removeCookie=function(a){document.cookie=a+"=; Max-Age=-99999999;"};
$(".add-beneficiary").click(function(a){a.preventDefault();addNewBeneficiary()});$(document).on("click",".remove-beneficiary",function(a){a.preventDefault();var b=this;$.confirm({title:"Remove Beneficiary",type:"red",content:"Are you sure your want to remove this beneficiary?",buttons:{Yes:function(){$(b).parent().remove()},No:function(){}}})});
$(document).on("change",".input-qty",function(){var a=120*parseInt($(this).val());a=numberFormat(a)+" face shields = PHP"+numberFormat(35*a);$(this).parent().find(".faceshield-count").text(a);return calculateTotalOrders()});$(document).on("change",".input-shipping-mode",function(){$(this).parent().parent().find(".shipping-mode").hide();$(this).parent().parent().find("#"+$(this).val()).show()});
var calculateTotalOrders=function(){$(".order-total .order-total-value").text(getOrderTotal())},getOrderTotal=function(){var a=0;$(".input-qty").each(function(){a+=4200*$(this).val()});return numberFormat(a)},numberFormat=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},addNewBeneficiary=function(){lastBeneficiaryIndex=$(".beneficiaries .beneficiary").last().data("index");var a=parseInt(lastBeneficiaryIndex)+1;a=$("#beneficiary-tpl").html().replace(/\[INDEX\]/g,a);$(".beneficiaries").append(a)},
depositSubmit=!1;$(".deposit-btn").click(function(){validateDeposit()});
var validateDeposit=function(){var a=!1;disableInput(!0);$(".error-msg").remove();$("#input-reference").val().trim()||(addErrorMsgToElementGroup($("#input-reference").parent(),"#input-reference","Please enter your Donation reference"),a=!0);$("#input-deposit-slip").val().trim()||(addErrorMsgToElementGroup($("#input-reference").parent().parent().parent(),"#input-deposit-slip","Please upload your deposit slip"),a=!0);a?($.alert({title:"Error",type:"red",content:"Please correct the error(s) in the form to continue placing a donation"}),
disableInput(!1)):(populateForm(),depositSubmit=!0,$(".real-deposit-form").submit())},populateForm=function(){$(".real-deposit-form #reference").val($("#input-reference").val());$(".real-deposit-form #deposit-slip").val($("#input-deposit-slip").val())},depositReady=function(){depositSubmit&&(removeCookie("reference"),removeCookie("total"),$.alert({title:"Success",type:"green",columnClass:"medium",content:"Transaction complete! We will get back to you as soon as we confirm your donation. Thank you!",
buttons:{Ok:function(){window.location.reload()}}}))};